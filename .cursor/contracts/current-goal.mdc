---
description: Active goal manifest — single-read orientation for agents to know what matters now
---

# Current Goal

**Goal:** 100% DSL — Zero Go  
**Summary:** Asterisk is a playbook repository. There is no Python in an Ansible repo — only YAML. The Python lives in Ansible (the engine) and in collections (the plugins). Asterisk follows the same model: **zero Go code.** The Go lives in Origami (the engine) and in Origami's modules (the collections). Achilles is a sibling playbook repository — both are analysis tools on Origami, differing only in domain (CI post-mortem vs. security probing). Any Go code in Asterisk is a signal that the framework or its modules are missing a primitive.

## The ROI That Changes Everything

$1 per 20 cases saves 10 people an accumulated 10 days of work.

| Factor | Value |
|--------|-------|
| AI cost per batch | ~$1 |
| Labor savings per batch | ~$50,000 |
| ROI | **50,000x** |

**Implication:** Accuracy dominates. Token budget is irrelevant. A system that costs $5 instead of $1 but gets the answer right saves $49,995.

## PoC Results (baseline)

| Adapter | Scenario | M19 | Key metrics | Notes |
|---------|----------|-----|-------------|-------|
| BasicAdapter | ptp-real-ingest (18 verified) | **0.83** | M1=1.00, M2=1.00, M15=0.72 | Heuristic baseline. 19/21 metrics pass. |
| CursorAdapter | ptp-real-ingest (18 verified) | **0.58** | M2=0.78, M8=0.60, M14b=0.30 | AI baseline. 10/21 pass. |

## Go LOC Status

**Zero Go achieved.** All 11,771 LOC moved to Origami `marbles/rca/` (pending rename to `modules/rca/` — see `naming-taxonomy` contract). Asterisk contains only YAML, Markdown, and configuration files.

## Draft Contracts

| # | Contract | Dir | Tier | Scope |
|---|----------|-----|------|-------|
| 1 | `naming-taxonomy` | draft/ | gate | Rename `marbles/` → `modules/`, add Deterministic/Stochastic classification, evaluate Adapter → Component. |
| 2 | `design-principle-deterministic` | draft/ | quick-win | Codify "Deterministic over Stochastic" as framework design principle with lint enforcement. |
| 3 | `origami-autodoc` | draft/ | next-milestone | `origami autodoc` CLI: Mermaid diagrams + Markdown docs from circuit YAML, D/S boundary visualization. |

### Execution order

```
    ┌──────────────────────────────────────────┐
    │ origami-fold ✓ COMPLETE                 │  Zero Go achieved.
    │    All 4 phases done                     │  11,650 LOC moved to Origami.
    └─────────────┬────────────────────────────┘
                  │
    ┌─────────────▼────────────────────────────┐
    │ naming-taxonomy (GATE)                   │  4 phases:
    │  Ph1: glossary entries                   │  1. taxonomy documentation
    │  Ph2: marbles/ → modules/ rename         │  2. mechanical rename (101 files)
    │  Ph3: Deterministic/Stochastic marker    │  3. type system on Transformer
    │  Ph4: Adapter → Component eval           │  4. optional rename evaluation
    └──────────┬───────────────┬───────────────┘
               │               │
    ┌──────────▼──────┐  ┌─────▼──────────────────────┐
    │ design-principle│  │ origami-autodoc             │
    │ -deterministic  │  │  Ph1: Mermaid generation    │
    │ (QUICK-WIN)     │  │  Ph2: Markdown tables       │
    │  Depends: Ph3   │  │  Ph3: CLI command           │
    └─────────────────┘  │  Ph4: D/S boundary viz      │
                         │  Ph5: context flow (stretch) │
                         └────────────────────────────┘
```

## End-State Architecture

```mermaid
flowchart TB
  subgraph asterisk ["Asterisk (zero Go — YAML only)"]
    circuits["circuits/*.yaml"]
    scenarios["scenarios/*.yaml"]
    scorecards["scorecards/*.yaml"]
    prompts["prompts/*.md"]
    schema["schema.yaml"]
    vocab["vocabulary.yaml"]
    manifest["origami.yaml"]
  end
  subgraph origami ["Origami (Go engine + collections)"]
    engine["framework (walk, DSL, vars, templates)"]
    rpAdapter["adapters/rp/ (RP I/O)"]
    sqliteAdapter["adapters/sqlite/ (YAML-defined schema/CRUD)"]
    rcaModules["modules/rca/ (llm-extract, context-builder, persist, score, report)"]
    fold["origami fold (YAML → binary)"]
    transformers["transformers (http, jq, file, match, dedup)"]
  end
  manifest -->|"origami fold"| fold
  fold -->|"embeds + links"| binary["bin/asterisk"]
  circuits --> engine
  scenarios --> engine
  rpAdapter --> engine
  sqliteAdapter --> engine
  rcaModules --> engine
  transformers --> engine
```

## Open Checklist

- [ ] CursorAdapter M19 >= 0.70 with principled weights (baseline: 0.58)
- [ ] M14b (smoking gun) confirmed >= 0.30 in wet run (baseline: 0.30 — at threshold)
- [x] **Zero Go (umbrella):** Asterisk repo contains zero `.go` files — all 11,771 LOC resolved.
- [ ] **Naming taxonomy:** `marbles/` renamed to `modules/`, D/S classification on Transformer interface.
- [ ] **Autodoc:** `origami autodoc` generates valid Mermaid from circuit YAML.

## Completed Contracts (this goal)

| Contract | LOC impact | Phase |
|----------|-----------|-------|
| `data-dsl-extraction` | -2,900 LOC (scenario struct literals → YAML) | dsl-migration |
| `adapter-migration` | -600 LOC (RP adapter → Origami) | dsl-migration |
| `sqlite-dsl-adapter` | Origami primitive built; Asterisk migration pending | dsl-migration |
| `scorer-pattern` | -700 LOC (21 Go scorers → 10 batch patterns in Origami YAML) | dsl-migration |
| `rca-pure-dsl` | -942 net LOC (5.6K→5.3K); structural transformation to framework primitives | dsl-migration |
| `origami-fold` | -11,650 LOC (all Go moved to Origami `marbles/rca/`; `origami fold` codegen) | dsl-migration |

All prior goals achieved. Bundles 1-4 (Principled Metrics, Rich Names, Smart Routing, Demo Polish) complete. Full history: `notes/goal-history-poc.md`

## Goal Transition Protocol

When zero Go is achieved:

1. Archive this manifest in `notes/` as `goal-history-100-dsl.md`
2. Evaluate next goal: production hardening, multi-operator expansion, or community release
3. Reassess all draft contracts — re-tier relative to the next goal
