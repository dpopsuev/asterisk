---
description: Active goal manifest — single-read orientation for agents to know what matters now
---

# Current Goal

**Goal:** 100% DSL — Zero Go  
**Summary:** Asterisk is a playbook repository. There is no Python in an Ansible repo — only YAML. The Python lives in Ansible (the engine) and in collections (the plugins). Asterisk follows the same model: **zero Go code.** The Go lives in Origami (the engine) and in Origami's adapters/marbles (the collections). Achilles is a sibling playbook repository — both are analysis tools on Origami, differing only in domain (CI post-mortem vs. security probing). Any Go code in Asterisk is a signal that the framework or its adapters are missing a primitive.

## The ROI That Changes Everything

$1 per 20 cases saves 10 people an accumulated 10 days of work.

| Factor | Value |
|--------|-------|
| AI cost per batch | ~$1 |
| Labor savings per batch | ~$50,000 |
| ROI | **50,000x** |

**Implication:** Accuracy dominates. Token budget is irrelevant. A system that costs $5 instead of $1 but gets the answer right saves $49,995.

## PoC Results (baseline)

| Adapter | Scenario | M19 | Key metrics | Notes |
|---------|----------|-----|-------------|-------|
| BasicAdapter | ptp-real-ingest (18 verified) | **0.83** | M1=1.00, M2=1.00, M15=0.72 | Heuristic baseline. 19/21 metrics pass. |
| CursorAdapter | ptp-real-ingest (18 verified) | **0.58** | M2=0.78, M8=0.60, M14b=0.30 | AI baseline. 10/21 pass. |

## Active Contracts

| # | Contract | Scope |
|---|----------|-------|
| 1 | `data-dsl-extraction` | Scenarios + vocabulary to YAML; zero Go struct literals. |
| 1 | `adapter-migration` | RP adapter lift-and-drop to Origami. |
| ~~2~~ | ~~`sqlite-dsl-adapter`~~ | ~~YAML-defined SQLite adapter in Origami (schema, migrations, CRUD).~~ **DONE** |
| 3 | `rca-pure-dsl` | Marble discovery: decompose `adapters/rca/` into reusable Origami marbles, validated by Achilles. |

### Execution order

```
    ┌────────────────────────────────────┐
    │ 1. data-dsl-extraction  (parallel) │  ← scenarios + vocabulary to YAML
    │ 1. adapter-migration    (parallel) │  ← RP adapter to Origami
    └──────────────┬─────────────────────┘
                   │
    ┌──────────────▼─────────────────────┐
    │ 2. sqlite-dsl-adapter              │  ← depends on adapter-migration
    └──────────────┬─────────────────────┘
                   │
    ┌──────────────▼─────────────────────┐
    │ 3. rca-pure-dsl                    │  ← depends on sqlite-dsl-adapter
    └────────────────────────────────────┘

    rca-pure-dsl Phase 1 (design only) can overlap with step 1.
```

## 22% Gap Resolution

The 4 contracts cover ~22K of ~28K LOC (78%). The remaining ~6,200 LOC resolves as follows:

| Uncovered area | LOC | Resolution |
|----------------|-----|------------|
| `cmd/asterisk/` | 2,032 | `origami fold` — CLI commands become manifest YAML |
| `internal/demo/` | 1,436 | Pure data extraction — Kabuki content to YAML (trivial) |
| `internal/mcpconfig/` | 1,249 | `origami fold` — MCP wiring becomes manifest config |
| `internal/dataset/` | 649 | Absorbed by scenario YAML loader |
| `adapters/ingest/` | 634 | Generic transformers configured by YAML (Option C) |
| `adapters/calibration/nodes.go` | 111 | Thin glue — absorbed by framework calibration runner |

All 6,200 LOC has a resolution path. Discovery happens during `rca-pure-dsl` Phase 1.

## End-State Architecture

```mermaid
flowchart TB
  subgraph asterisk ["Asterisk (zero Go — YAML only)"]
    pipelines["pipelines/*.yaml"]
    scenarios["scenarios/*.yaml"]
    scorecards["scorecards/*.yaml"]
    prompts["prompts/*.md"]
    schema["schema.yaml"]
    vocab["vocabulary.yaml"]
    manifest["origami.yaml"]
  end
  subgraph origami ["Origami (Go engine + collections)"]
    engine["framework (walk, DSL, vars, templates)"]
    rpAdapter["adapters/rp/ (RP I/O)"]
    sqliteAdapter["adapters/sqlite/ (YAML-defined schema/CRUD)"]
    rcaMarbles["marbles/rca/ (llm-extract, context-builder, persist, score, report)"]
    fold["origami fold (YAML → binary)"]
    transformers["transformers (http, jq, file, match, dedup)"]
  end
  manifest -->|"origami fold"| fold
  fold -->|"embeds + links"| binary["bin/asterisk"]
  pipelines --> engine
  scenarios --> engine
  rpAdapter --> engine
  sqliteAdapter --> engine
  rcaMarbles --> engine
  transformers --> engine
```

## Open Checklist

- [ ] CursorAdapter M19 >= 0.70 with principled weights (baseline: 0.58)
- [ ] M14b (smoking gun) confirmed >= 0.30 in wet run (baseline: 0.30 — at threshold)
- [ ] **Zero Go (umbrella):** Asterisk repo contains zero `.go` files — all 28K LOC resolved.

## Completed Work

All prior goals achieved. Bundles 1-4 (Principled Metrics, Rich Names, Smart Routing, Demo Polish) complete. Standalone contracts (internal-cleanup, data-ingestion, evidence-gap-brief, knowledge-source-evolution) complete. Origami framework items (DefaultMetrics, DefaultScoreCard, CostBill, CostConfig, calibration DSL pipeline, LSP validation, EvidenceSource rename, probe stimuli, mathutil extraction) all verified.

Full history: `notes/goal-history-poc.md`

## Goal Transition Protocol

When zero Go is achieved:

1. Archive this manifest in `notes/` as `goal-history-100-dsl.md`
2. Evaluate next goal: production hardening, multi-operator expansion, or community release
3. Reassess all draft contracts — re-tier relative to the next goal
