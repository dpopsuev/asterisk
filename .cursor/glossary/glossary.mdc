---
description: Shared domain definitions for Asterisk
---

# Glossary

- **Asterisk** — Standalone Go CLI for RCA on test failures using external repos and CI/infra context. **Command:** `asterisk`. Interacts with ReportPortal via the **RP API** (client, not an RP plugin). Built on the Origami framework.
- **RCA** — Root Cause Analysis based on evidence (logs, commits, pipeline context).
- **RP** — ReportPortal.
- **Origami** — The agentic pipeline framework that Asterisk is built on. Separate repo at `github.com/dpopsuev/origami`. For framework terms (Node, Edge, Graph, Walker, Element, Persona, Extractor, etc.), see the Origami glossary.
- **Achilles** — Go vulnerability scanner, the second Origami reference implementation. `github.com/dpopsuev/achilles`.
- **MCP** — Model Context Protocol; standardized tool interface for AI to access external systems.
- **Execution DB** — Source of execution data (launch, test items, failures). **RP is the Execution DB:** envelope and failure list come from Report Portal via API (e.g. launch by ID). See `docs/envelope-mental-model.mdc`.
- **Context Source** — a single external or internal data source used to enrich analysis (e.g., repo, CI artifact).
- **Context Workspace** — key-value config on FS (YAML/JSON/TOML) listing pointers to local or remote git repos plus **agentic meta** (purpose/role per repo for RCA). See `docs/context-workspace.mdc`.
- **ExecutionEnvelope** — adapter-normalized run container used as Asterisk analysis input. Includes **vital git metadata** (`git.branch`, `git.commit`, optional `git.remote`/repo URL). See `docs/execution-envelope.mdc`.
- **Investigation case** — one failed test case; unit of agent work. Keyed by **investigation envelope** (job ID, run path, failed test name, etc.). See `docs/cli-data-model.mdc`.
- **Storage adapter** — abstraction over persistence (cases, RCAs, pipeline hierarchy). Implementation is SQLite today, swappable later. See `docs/cli-data-model.mdc`.
- **Investigation envelope** — context identifying a single failure (job ID, run ID, clock type, artifact paths); used to key investigation cases and avoid duplicates.
- **RCA** (in data model) — first-class entity in DB: title, description, defect type, evidence; optional **Jira ticket ID** and **Jira link**. Many cases can reference one RCA. See `docs/cli-data-model.mdc`.
- **Convergence check** — the process of deciding whether the analysis has converged on an RCA; outcome gates the next step.
- **Convergence score** — score used in a convergence check (high = converging, low = not enough signal).
- **Prompt template** — file-based RCA prompt (parameterized by launch, workspace, ref, etc.). See `docs/prompts.mdc`.
- **Cursor mode** — `asterisk --cursor`: Asterisk uses Cursor as the backing model. See `notes/poc-flow.mdc`.
- **Sensitive data** — Execution Envelope / launch data, artifact contents, context workspace config (including repo URLs and tokens), RP API tokens, AI provider keys, and any PII.

## Two-tier data model

The data model has two tiers: **investigation-scoped** entities (the execution tree) and **global knowledge** entities (institutional memory). See `docs/cli-data-model.mdc`.

### The three pillars -- witness, story, criminal

The canonical chain: `Test Case -> Symptom -> Root Cause (RCA)`.

A failed **Test Case** is a witness reporting a crime. The **Symptom** is the story (observable pattern). The **Root Cause** is the criminal (actual bug).

- **Case (the witness)** -- One failed test instance. Leaf of the execution tree. Reports a symptom.
- **Symptom (the story)** -- A recognized failure pattern in the **global knowledge** tier. Identified by a **fingerprint** (deterministic hash of normalized test_name_pattern + error_pattern + component). Cross-version. Tracks `first_seen_at`, `last_seen_at`, `occurrence_count`, and temporal `status` (active / dormant / resolved).
- **RCA (the criminal)** -- Root cause analysis -- the actual bug, misconfiguration, or infra issue. Cross-version, cross-suite.
- **SymptomRCA (story <-> criminal junction)** -- Many-to-many "caused by" link. Carries a `confidence` score and `notes`.

### Investigation-scoped entities

- **Investigation Suite** -- Top-level grouping for a regression analysis. Spans versions.
- **Version** -- Product/OCP version (e.g. `4.21`). First-class entity shared across suites.
- **Pipeline** -- One CI pipeline run for one version. Bound to a suite + version. Contains launches.
- **Launch** -- One RP launch. Contains jobs. Stores extracted fields plus full envelope payload.
- **Job** -- One test execution group within a launch. Contains cases. Carries execution stats.
- **Triage** -- F1 prompt family output per case. Records symptom category, severity, defect type hypothesis.

### Global knowledge terms

- **Symptom fingerprint** -- Deterministic hash used to match new failures against known symptoms.
- **Symptom staleness** -- Temporal rule: if `last_seen_at` is older than 90 days and status is `active`, auto-transitions to `dormant`. Reappearance = regression signal.
- **RCA temporal status** -- Lifecycle: `open` -> `resolved` -> `verified` -> `archived`. Reopenable.

## Hierarchy: tree terms and domain naming

The execution model is a **recursive hierarchy**.

### Formal tree terms (for specs / model only)

| Term | Meaning |
|------|---------|
| **Leaf** | Node with no children -- one execution/run. |
| **Branch** | Node that has children (internal node). |
| **Tree** | One root + all descendants (e.g. one launch and its items). |
| **Forest** | Disjoint set of trees (e.g. several launches under one campaign). |

### Domain naming (recommended in APIs and docs)

| Term | Level | Meaning |
|------|-------|---------|
| **Step** | Leaf | One failed test step; one investigation case per step. |
| **Job** | Branch under launch | Group under a launch; contains steps. |
| **Launch** | Tree root | One run from RP; contains jobs and steps. |
| **Envelope** | Recursive container | Any container: can contain other Envelopes or steps. Nests arbitrarily. |
