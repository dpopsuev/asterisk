{"model_name": "auto", "provider": "cursor", "version": "1", "wrapper": "agent-router"}

```go
func sumAndFormat(values []int, prefix string, formatDetail bool) (int, string, error) {
	var sum int
	var parts []string
	for _, v := range values {
		sum += v
		if formatDetail {
			if v > 0 {
				parts = append(parts, fmt.Sprintf("%d", v))
			} else if v < 0 {
				parts = append(parts, fmt.Sprintf("(%d)", v))
			}
		}
	}
	if sum == 0 {
		return 0, "", fmt.Errorf("empty result for %s", prefix)
	}
	s := ""
	if len(parts) > 0 {
		s = strings.Join(parts, ",") + ","
	}
	if prefix != "" {
		s = prefix + ": " + s
	}
	return sum, s, nil
}
```
