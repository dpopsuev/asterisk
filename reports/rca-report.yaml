name: rca-report
format: markdown
sections:
  - type: header
    title: "RCA Report"
    level: 1

  - type: table
    columns: [Field, Value]
    data: header_fields

  - type: header
    title: "Summary"
    level: 2

  - type: text
    content: |
      **Total cases:** {{ .total_cases }}
      **Defect types:** {{ .defect_distribution }}
      **Adapter:** {{ .adapter }}

  - type: header
    title: "Component Findings"
    level: 2

  - type: repeat
    items: components
    body:
      - type: header
        title: "{{ .component_name }}"
        level: 3
      - type: table
        columns: [Case, Defect Type, Convergence, Path]
        data: cases

  - type: header
    title: "Case Details"
    level: 2

  - type: repeat
    items: case_details
    body:
      - type: header
        title: "{{ .case_id }}"
        level: 3
      - type: table
        columns: [Field, Value]
        data: fields
